
<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç”Ÿç”¢è³‡è¨Šä¸­å¿ƒ - è¨‚å–®æŸ¥è©¢</title>
    <link rel="icon" type="image/svg+xml" href="{{ url_for('static', filename='favicon.svg') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/pico.min.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <style>
        /* ç³»çµ±ç‹€æ…‹å¾½ç«  */
        .system-status-badge {
            position: fixed;
            top: 1em;
            right: 1em;
            padding: 0.5em 1em;
            background: white;
            border: 1px solid #e0e0e0;
            border-radius: 20px;
            font-size: 0.85em;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            z-index: 1000;
            display: flex;
            align-items: center;
            gap: 0.5em;
        }
        .status-indicator {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: #4caf50;
            animation: pulse 2s ease-in-out infinite;
        }
        .status-indicator.loading {
            background: #ff9800;
        }
        .status-indicator.error {
            background: #f44336;
            animation: none;
        }
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
    </style>
</head>
<body>
    <!-- ğŸ†• ç³»çµ±ç‹€æ…‹å¾½ç« ï¼ˆå³ä¸Šè§’ï¼‰ -->
    <div class="system-status-badge">
        <span class="status-indicator loading"></span>
        <span id="status-badge-text">æª¢æŸ¥ä¸­...</span>
    </div>

    <main class="container">
        <header>
            <h1>ç”Ÿç”¢è³‡è¨Šä¸­å¿ƒ</h1>
            <p>ä¸€å€‹æ•´åˆå·¥å–®æ–™æ³ã€åº«å­˜èˆ‡è¦æ ¼çš„æŸ¥è©¢ç³»çµ±</p>
        </header>
        
        <nav>
            <ul>
                <li><a href="/procurement">æ¡è³¼å„€è¡¨æ¿</a></li>
                <li><a href="/order_query" class="active">è¨‚å–®æŸ¥è©¢</a></li>
                <li><a href="/admin_dashboard">å¾Œå°ç®¡ç†</a></li>
            </ul>
        </nav>

        <hr>

        <section id="order-search">
            <h2>è¨‚å–®è©³æƒ…èˆ‡è¦æ ¼æŸ¥è©¢</h2>
            <div class="grid">
                <input type="text" id="order-id-input" placeholder="è«‹è¼¸å…¥è¨‚å–®è™Ÿç¢¼ (ä¾‹å¦‚: 100001908)">
                <button id="search-order-btn">æŸ¥è©¢è¨‚å–®</button>
            </div>

            <!-- æŒ‰éˆ•ç¾¤çµ„ -->
            <div class="button-group">
                <button id="download-specs-btn" disabled>ä¸‹è¼‰ç•¶å‰è¨‚å–®è¦æ ¼è¡¨</button>
            </div>
            
            <!-- è¨‚å–®å…§å®¹å®¹å™¨ -->
            <div id="order-details-container">
                <!-- åˆå§‹æç¤ºè¨Šæ¯ -->
                <p>è«‹è¼¸å…¥è¨‚å–®è™Ÿç¢¼é€²è¡ŒæŸ¥è©¢ã€‚</p>
            </div>
            
            <!-- é ç±¤å°è¦½ (åˆå§‹éš±è—) -->
            <nav id="order-tabs-nav" style="display: none;">
                <ul>
                    <li><a href="#" class="order-tab-link active" data-tab="tab-order-specs">è¨‚å–®è¦æ ¼</a></li>
                    <li><a href="#" class="order-tab-link" data-tab="tab-order-materials">ç‰©æ–™æ¸…å–®</a></li>
                </ul>
            </nav>
            
            <!-- é ç±¤å…§å®¹ -->
            <div id="order-tabs-content" style="display: none;">
                <div id="tab-order-specs" class="order-tab-content active">
                    <!-- è¨‚å–®è¦æ ¼å°‡é¡¯ç¤ºåœ¨é€™è£¡ -->
                </div>
                <div id="tab-order-materials" class="order-tab-content">
                    <!-- ç‰©æ–™æ¸…å–®å°‡é¡¯ç¤ºåœ¨é€™è£¡ -->
                </div>
            </div>
        </section>

    </main>

    <!-- ç‰©æ–™è©³æƒ…å½ˆå‡ºè¦–çª— (Modal) -->
    <dialog id="details-modal">
        <article>
            <header>
                <a href="#close" aria-label="Close" class="close"></a>
                <h3 id="modal-title">ç‰©æ–™è©³æƒ…</h3>
            </header>
            
            <!-- åº«å­˜ç¸½è¦½å€å¡Š -->
            <div id="stock-summary-section">
                <h4>åº«å­˜ç¸½è¦½</h4>
                <p>æœªé™åˆ¶åº«å­˜: <span id="unrestricted-stock"></span></p>
                <p>å“è³ªæª¢é©—ä¸­: <span id="inspection-stock"></span></p>
                <p>å·²è¨‚æœªå…¥: <span id="on-order-stock"></span></p>
            </div>

            <!-- åˆ†é å°è¦½ -->
            <nav>
                <ul>
                    <li><a href="#" class="tab-link active" data-tab="tab-demand">éœ€æ±‚è¨‚å–®</a></li>
                    <li><a href="#" class="tab-link" data-tab="tab-substitute">å¯æ›¿ä»£ç‰ˆæœ¬</a></li>
                </ul>
            </nav>

            <!-- åˆ†é å…§å®¹ -->
            <div id="modal-content">
                <div id="tab-demand" class="tab-content active">
                    <!-- éœ€æ±‚è¨‚å–®è¡¨æ ¼å°‡æœƒè¢«å‹•æ…‹æ’å…¥é€™è£¡ -->
                </div>
                <div id="tab-substitute" class="tab-content">
                    <!-- æ›¿ä»£ç‰ˆæœ¬åº«å­˜è¡¨æ ¼å°‡æœƒè¢«å‹•æ…‹æ’å…¥é€™è£¡ -->
                </div>
            </div>

            <footer>
                <button class="secondary" id="close-modal-btn">é—œé–‰</button>
            </footer>
        </article>
    </dialog>

    <script src="{{ url_for('static', filename='js/main.js') }}"></script>
</body>
</html>
